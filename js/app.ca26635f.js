(function(){"use strict";var t={4074:function(t,e,r){var o=r(6369),a=r(2631),n=r(4161),i=r(8499),l=r.n(i),s=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[t.isShow?e("router-view"):t._e()],1)},c=[],p={name:"App",provide(){return{reload:this.reload}},data(){return{isShow:!0}},methods:{reload(){this.isShow=!1,this.$nextTick((function(){this.isShow=!0}))}}},u=p,d=r(1001),h=(0,d.Z)(u,s,c,!1,null,null,null),f=h.exports,m=function(){var t=this,e=t._self._c;return e("el-container",[e("el-header",[e("h1",[t._v("创新招募信息展示板")]),e("el-row",{staticClass:"search-container"},[e("label",[t._v("项目名称: ")]),e("el-input",{staticClass:"search-input",attrs:{label:"项目名称",placeholder:"请输入搜索关键字"},model:{value:t.searchKey,callback:function(e){t.searchKey=e},expression:"searchKey"}}),e("el-button",{attrs:{type:"primary",round:""},on:{click:t.search}},[t._v("搜索")])],1),e("el-main",[e("el-table",{staticStyle:{width:"100%"},attrs:{stripe:!0,border:!0,data:t.projects}},[e("el-table-column",{attrs:{label:"项目编号",prop:"id"}}),e("el-table-column",{attrs:{label:"项目名称",prop:"name"}}),e("el-table-column",{attrs:{label:"提交人",prop:"submitter"}}),e("el-table-column",{attrs:{label:"部门",prop:"department"}}),e("el-table-column",{attrs:{label:"项目描述",prop:"description"}}),e("el-table-column",{attrs:{label:"预期成果及收益",prop:"expectation"}}),e("el-table-column",{attrs:{label:"指派给",prop:"assignee"}}),e("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(r){return[e("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(e){return t.openDetailPage(r.row)}}},[t._v("我有方案")]),e("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(e){return t.deleteItem(r.row)}}},[t._v("点击删除")])]}}])})],1)],1),e("el-footer",[e("el-pagination",{attrs:{"page-size":10,layout:"total, prev, pager, next",total:t.total},on:{"prev-click":t.handlePageClick,"next-click":t.handlePageClick,"current-change":t.handlePageClick}})],1)],1)],1)},b=[],g=(r(7658),{name:"DisplayTable",inject:["reload"],data(){return{projects:[],searchKey:"",replicas:[],total:0}},methods:{search:function(){0===this.searchKey.trim().length?this.projects=this.replicas:this.projects=this.projects.filter((t=>t.name.indexOf(this.searchKey)>-1))},async handlePageClick(t){const e=await this.$http.get(`http://localhost:3000/projects?_page=${t}&_limit=10`);this.projects=e.data},openDetailPage(t){this.$router.push({path:`/projects/${t.id}`,params:{id:t.id}})},async deleteItem(t){const e=await this.$confirm("此操作将永久删除该用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((()=>{this.$message({type:"info",message:"已取消删除"})}));if("confirm"!==e)return this.$message.info("已取消删除");const{data:r}=await this.$http.delete(`http://localhost:3000/projects/${t.id}`);if(200!==r.meta.status)return this.$message.error("删除用户失败！");this.$message.success("删除用户成功！"),this.reload()}},async created(){const t=await this.$http.get("http://localhost:3000/projects"),e=t.data;this.total=e.length,this.projects=e.slice(0,10),this.replicas=e.slice(0,10)}}),v=g,y=(0,d.Z)(v,m,b,!1,null,"e70bb3ac",null),j=y.exports,x=function(){var t=this,e=t._self._c;return e("el-container",{staticClass:"detail-form-container"},[e("el-header",[e("h1",[t._v("项目具体信息")])]),e("el-form",{ref:"project",staticClass:"detail-form",attrs:{model:t.project,rules:t.rules,"label-width":"120px"}},[e("el-form-item",{attrs:{label:"项目编号",prop:"id"}},[e("el-input",{attrs:{disabled:!0},model:{value:t.project.id,callback:function(e){t.$set(t.project,"id",e)},expression:"project.id"}})],1),e("el-form-item",{attrs:{label:"项目名称",prop:"name"}},[e("el-input",{model:{value:t.project.name,callback:function(e){t.$set(t.project,"name",e)},expression:"project.name"}})],1),e("el-form-item",{attrs:{label:"项目类别",prop:"category"}},[e("el-radio-group",{model:{value:t.project.category,callback:function(e){t.$set(t.project,"category",e)},expression:"project.category"}},[e("el-radio",{attrs:{label:0}},[t._v("我提我做")]),e("el-radio",{attrs:{label:1}},[t._v("我提你做")])],1)],1),e("el-form-item",{attrs:{label:"项目描述",prop:"description"}},[e("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:t.project.description,callback:function(e){t.$set(t.project,"description",e)},expression:"project.description"}})],1),e("el-form-item",{attrs:{label:"预期成果及收益",prop:"expectation"}},[e("el-input",{attrs:{type:"textarea",rows:4,placeholder:"请输入内容"},model:{value:t.project.expectation,callback:function(e){t.$set(t.project,"expectation",e)},expression:"project.expectation"}})],1),e("el-form-item",[e("el-button",{attrs:{type:"success"},on:{click:function(e){return t.back()}}},[t._v("返回")]),e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("project")}}},[t._v("提交")])],1)],1)],1)},$=[],w={data(){return{project:{id:0,name:"",category:0,description:"",expectation:""},rules:{name:[{required:!0,message:"请输入项目名称",trigger:"blur"}],description:[{required:!0,message:"请输入项目描述",trigger:"blur"}],expectation:[{required:!0,message:"请输入内容",trigger:"blur"}]}}},methods:{back(){this.$router.push("/")},submitForm(t){const e=this.$route.params.id;this.$refs[t].validate((t=>{if(!t)return console.log("error submit!!"),!1;this.$http.put(`http://localhost:3000/projects/${e}`,this.project,{headers:{"Content-Type":"application/json"}}).then((()=>{this.$router.push("/")}))}))}},async created(){const t=this.$route.params.id,e=await this.$http.get(`http://localhost:3000/projects/${t}`);this.project={...this.project,...e.data}}},k=w,_=(0,d.Z)(k,x,$,!1,null,null,null),O=_.exports;o["default"].use(a.Z),o["default"].use(l()),o["default"].config.productionTip=!1,o["default"].prototype.$http=n.Z;const C=[{path:"/",redirect:"/index"},{path:"/index",component:j},{path:"/projects/:id",component:O}],S=new a.Z({routes:C});new o["default"]({router:S,render:t=>t(f)}).$mount("#app")}},e={};function r(o){var a=e[o];if(void 0!==a)return a.exports;var n=e[o]={id:o,loaded:!1,exports:{}};return t[o].call(n.exports,n,n.exports,r),n.loaded=!0,n.exports}r.m=t,function(){r.amdO={}}(),function(){var t=[];r.O=function(e,o,a,n){if(!o){var i=1/0;for(p=0;p<t.length;p++){o=t[p][0],a=t[p][1],n=t[p][2];for(var l=!0,s=0;s<o.length;s++)(!1&n||i>=n)&&Object.keys(r.O).every((function(t){return r.O[t](o[s])}))?o.splice(s--,1):(l=!1,n<i&&(i=n));if(l){t.splice(p--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var p=t.length;p>0&&t[p-1][2]>n;p--)t[p]=t[p-1];t[p]=[o,a,n]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var o in e)r.o(e,o)&&!r.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){r.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,o){var a,n,i=o[0],l=o[1],s=o[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(s)var p=s(r)}for(e&&e(o);c<i.length;c++)n=i[c],r.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return r.O(p)},o=self["webpackChunkinnovation_table"]=self["webpackChunkinnovation_table"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=r.O(void 0,[998],(function(){return r(4074)}));o=r.O(o)})();
//# sourceMappingURL=app.ca26635f.js.map